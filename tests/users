// const mongoose = require('mongoose');
// const supertest = require('supertest');
// const app = require('../app.js');
// const User = require('../models/userModel');
// const helper = require('./test_helper');

// const api = supertest(app);

// describe('/api/users GET', () => {
//   test('/get all users', async () => {
//     await api
//       .get('/api/users')
//       .expect(200)
//       .expect('Content-Type', /application\/json/);
//   });
// });
// describe('/api/users POST', () => {
//   test('/post adds users users', async () => {
//     await api
//       .post('/api/users')
//       .send({
//         username: 'thirdUser',
//         passwordHash: 'pass3',
//         name: 'Third Surname'
//       })
//       .expect(200);
//     const usersDb = await api.get('/api/users').expect(200);
//     expect(usersDb.length).toBe(helper.usersMock.length + 1);
//   });
// });

// beforeEach(async () => {
//   await User.deleteMany({});

//   const mockUsers = helper.usersMock.map(user => new User(user));
//   const savedUsers = mockUsers.map(user => user.save());
//   await Promise.all(savedUsers);
// });
// afterAll(() => {
//   mongoose.connection.close();
// });
